# Configuration Guide

Learn how to configure phpFox to match your specific needs.

## General Configuration

### Site Information

Configure basic site information in **AdminCP → Settings → General**:

| Setting | Description | Example |
|---------|-------------|---------|
| Site Name | Your site's name | "My Community" |
| Site Title | Browser title | "My Community - Social Network" |
| Site Description | Meta description for SEO | "Join our vibrant community..." |
| Site Keywords | SEO keywords | "social, community, networking" |

### URL Configuration

Set up your site URLs properly:

```php
// Base URL
define('PHPFOX_URL', 'https://yourdomain.com/');

// CDN URL (optional)
define('PHPFOX_CDN', 'https://cdn.yourdomain.com/');

// Secure URL
define('PHPFOX_SECURE_URL', 'https://yourdomain.com/');
```

## Database Configuration

### Primary Database

Configure in `include/setting/server.sett.php`:

```php
<?php
$_CONF['db'] = array(
    'driver' => 'mysql',
    'host' => 'localhost',
    'user' => 'phpfox_user',
    'pass' => 'your_secure_password',
    'name' => 'phpfox_db',
    'prefix' => 'phpfox_',
    'charset' => 'utf8mb4'
);
```

### Database Optimization

For better performance:

```sql
-- Enable query cache
SET GLOBAL query_cache_size = 67108864;
SET GLOBAL query_cache_type = 1;

-- Optimize tables regularly
OPTIMIZE TABLE phpfox_user;
OPTIMIZE TABLE phpfox_feed;
```

## Cache Configuration

### File Cache

Configure file-based caching:

```php
$_CONF['cache'] = array(
    'type' => 'file',
    'path' => PHPFOX_DIR_FILE . 'cache/',
    'ttl' => 3600
);
```

### Redis Cache (Recommended)

For better performance, use Redis:

```php
$_CONF['cache'] = array(
    'type' => 'redis',
    'host' => '127.0.0.1',
    'port' => 6379,
    'database' => 0,
    'ttl' => 3600
);
```

### Memcached

Alternative caching with Memcached:

```php
$_CONF['cache'] = array(
    'type' => 'memcached',
    'host' => '127.0.0.1',
    'port' => 11211,
    'ttl' => 3600
);
```

## Email Configuration

### SMTP Settings

Configure SMTP for reliable email delivery:

```php
$_CONF['mail'] = array(
    'type' => 'smtp',
    'smtp_host' => 'smtp.gmail.com',
    'smtp_port' => 587,
    'smtp_user' => 'your-email@gmail.com',
    'smtp_pass' => 'your-password',
    'smtp_secure' => 'tls',
    'from_email' => 'noreply@yourdomain.com',
    'from_name' => 'My Community'
);
```

### Email Templates

Customize email templates in **AdminCP → Settings → Email Templates**:

- Welcome emails
- Password reset emails
- Notification emails
- Newsletter templates

## User Settings

### Registration Settings

Configure user registration options:

```javascript
{
  "allowRegistration": true,
  "emailVerification": true,
  "adminApproval": false,
  "captchaEnabled": true,
  "minimumAge": 13,
  "usernameMinLength": 3,
  "passwordMinLength": 8
}
```

### User Privacy Settings

Default privacy settings for new users:

- Profile visibility
- Contact information
- Activity feed visibility
- Search engine indexing

## Security Configuration

### SSL/HTTPS

Force HTTPS for secure connections:

```php
// In your .htaccess
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
```

### Security Headers

Add security headers in `.htaccess`:

```apache
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
    Header set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>
```

### Password Policy

Configure strong password requirements:

```php
$_CONF['password'] = array(
    'min_length' => 8,
    'require_uppercase' => true,
    'require_lowercase' => true,
    'require_numbers' => true,
    'require_special' => true,
    'expiry_days' => 90
);
```

## File Upload Configuration

### Upload Limits

Configure upload restrictions:

```php
$_CONF['upload'] = array(
    'max_size' => 10485760, // 10MB in bytes
    'allowed_extensions' => array('jpg', 'jpeg', 'png', 'gif', 'pdf'),
    'max_width' => 4096,
    'max_height' => 4096,
    'quality' => 85
);
```

### Storage Configuration

Choose storage method:

```php
// Local storage
$_CONF['storage'] = array(
    'type' => 'local',
    'path' => PHPFOX_DIR_FILE . 'uploads/'
);

// Amazon S3
$_CONF['storage'] = array(
    'type' => 's3',
    'bucket' => 'your-bucket-name',
    'region' => 'us-east-1',
    'key' => 'your-access-key',
    'secret' => 'your-secret-key'
);
```

## Media Configuration

### Image Processing

Configure image processing:

```php
$_CONF['image'] = array(
    'library' => 'gd', // or 'imagick'
    'thumbnail_size' => 200,
    'medium_size' => 600,
    'large_size' => 1200,
    'quality' => 85,
    'watermark_enabled' => false
);
```

### Video Settings

Configure video uploads and processing:

```php
$_CONF['video'] = array(
    'max_size' => 104857600, // 100MB
    'allowed_formats' => array('mp4', 'mov', 'avi'),
    'convert_to' => 'mp4',
    'ffmpeg_path' => '/usr/bin/ffmpeg'
);
```

## Social Media Integration

### Facebook Login

Configure Facebook authentication:

```php
$_CONF['facebook'] = array(
    'app_id' => 'your-app-id',
    'app_secret' => 'your-app-secret',
    'enabled' => true
);
```

### Twitter Integration

```php
$_CONF['twitter'] = array(
    'api_key' => 'your-api-key',
    'api_secret' => 'your-api-secret',
    'enabled' => true
);
```

## Advanced Configuration

### Performance Tuning

```php
// Enable compression
$_CONF['performance'] = array(
    'gzip_enabled' => true,
    'minify_css' => true,
    'minify_js' => true,
    'combine_files' => true,
    'lazy_load_images' => true
);
```

### Debug Mode

For development only:

```php
// Enable debugging
define('PHPFOX_DEBUG', true);
define('PHPFOX_DEBUG_QUERIES', true);

// Disable in production!
```

import { Callout } from 'nextra/components'

<Callout type="warning">
  **Security Warning**: Never enable debug mode in production! It can expose sensitive information.
</Callout>

<Callout type="info">
  **Best Practice**: Always test configuration changes on a staging environment before applying to production.
</Callout>

## Configuration Files Reference

Key configuration files:

- `include/setting/server.sett.php` - Server and database settings
- `include/setting/common.sett.php` - Common application settings
- `.htaccess` - Web server configuration
- `php.ini` - PHP configuration

## Next Steps

- [Learn about User Management](/user-guide/users)
- [Explore Advanced Customization](/advanced/customization)
- [Optimize Performance](/advanced/performance)
