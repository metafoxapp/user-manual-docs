---
title: Set up video upload functionality
---

# Set up video upload functionality

The video upload feature in our product allows administrators to enhance their users' experience by enabling them to upload videos from their local machines.

To provide flexibility and compatibility, we offer two options for video processing: **[FFMPEG](https://www.ffmpeg.org/)** and **[Mux](https://www.mux.com/)**. This guide will walk you through the step-by-step process of configuring and setting up these video processing options to ensure seamless and efficient video uploads.

## Configure video upload with FFMPEG

### Install FFMPEG on your server

Some hosting providers support FFMPEG by default. Thus, please check with your hosting provider for the FFMPEG Path

If FFMPEG isn't available, you have to begin by installing FFMPEG on your server or hosting environment. You can download the latest version of FFMPEG from their [official website](https://www.ffmpeg.org/) or use package managers specific to your operating system.

If you aren't familiar with FFMPEG setup, please get in touch with your hosting provider or system admin for assistance to install this tool.

### Configure FFMPEG Path

Once FFMPEG is installed, ensure that the system recognizes its path. Now, we will configure FFMPEG service on MetaFox site

Let's log into your MetaFox with the Admin user and go to **AdminCP Dashboard** > **App Settings** > **Videos**

Click on the **Services** menu on the header bar, then click on the **FFMPEG** item as the screenshot.

![Screenshot 2023-08-02 at 16.21.09.png](/images/Screenshot%202023-08-02%20at%2016.21.09.png)

Configure 2 settings with the proper paths of FFMPEG and FFPROBE you got in step 1. Note that the FFPROBE will be installed automatically along with FFMPEG.

![Screenshot 2023-08-02 at 16.25.01.png](/images/Screenshot%202023-08-02%20at%2016.25.01.png)

Then save changes.

You can go to the Settings section by clicking on the **Settings** top menu. Choose the FFMPEG service for video upload and save changes as below screenshot

![Screenshot 2023-08-02 at 16.28.20.png](/images/Screenshot%202023-08-02%20at%2016.28.20.png)

You will need to make sure that has been set up for uploaded videos to process.

## Configure video upload with Mux Integration

### Create a Mux Account and configure Mux

If you haven't already, sign up for a Mux account at [https://mux.com/](https://mux.com/). Mux provides powerful video processing capabilities, including adaptive streaming and analytics.

After registering Mux account successfully, you will need to set up Mux to get Access Token (**Client ID** and **Client Secret** ) and Webhook Secret

**Set up Access Token**

Once registered, log in to your Mux dashboard.

Navigate to "Settings": In your Mux dashboard, locate and click on the "Settings" option, typically found in the top-right corner of the page.

![Screenshot 2023-08-02 at 16.54.59.png](/images/Screenshot%202023-08-02%20at%2016.54.59.png)

Choose the Access Tokens menu or within the "Settings" section, select "Access Tokens." Here, you can manage your API tokens.

![Screenshot 2023-08-02 at 16.57.59.png](/images/Screenshot%202023-08-02%20at%2016.57.59.png)

Click on the "Create New Token" button to generate a new Access Token. Provide a descriptive name for the token, and you can also assign permissions to control API access as below. Then click "Create" to generate the Access Token.

![Screenshot 2023-08-02 at 17.00.39.png](/images/Screenshot%202023-08-02%20at%2017.00.39.png)

Once the Access Token is generated, copy it immediately and store it securely in a safe location. This Access Token is essential for authenticating requests of your MetaFox site to the Mux API.

**Setting Up Mux Webhook**

In your Mux dashboard, go to the "Settings" section.

Within the "Settings" section, select "Webhooks." This is where you'll set up and manage your Webhooks.

![Screenshot 2023-08-02 at 17.03.26.png](/images/Screenshot%202023-08-02%20at%2017.03.26.png)

Click on the "Create New Webhook" button to set up a new webhook. You'll need to provide specific details about the webhook.

Enter the URL where you want to receive the webhook notifications in the "URL to notify" field. Please fill the URL ***https://yourdomain.com/api/v1/video/callback/mux*** . You need to replace the ***yourdomain.com*** part the URL with the proper domain of your MetaFox site

![Screenshot 2023-08-02 at 17.12.38.png](/images/Screenshot%202023-08-02%20at%2017.12.38.png)

After configuring the webhook details, click "Create Webhook.".

Then you can click on the **Show Signing Secret** of the created webhook item to get the detailed signing secret. Copy and store it for later usage

You have set up your Mux account successfully. Now we can move to the next step to configure the Mux service on your MetaFox site.

### Configure Mux service on MetaFox

Go to **AdminCP Dashboard** > **App Settings** > **Video** > **Services**. Then choose **Mux Video** item as below

![Screenshot 2023-08-02 at 16.43.46.png](/images/Screenshot%202023-08-02%20at%2016.43.46.png)

Fill in the settings with the proper values you have when setting up your Mux account. Then save changes.

![Screenshot 2023-08-02 at 16.39.34.png](/images/Screenshot%202023-08-02%20at%2016.39.34.png)

Go to the **Settings** section by clicking on the Settings top menu. Choose the Mux service for video upload and save changes as below screenshot.

![Screenshot 2023-08-02 at 16.47.07.png](/images/Screenshot%202023-08-02%20at%2016.47.07.png)

Congratulations! You have successfully set up the video upload functionality using either FFMPEG or Mux. 

Now, you will see that the Upload option is enabled for users when creating a video

![Screenshot 2023-08-02 at 16.31.00.png](/images/Screenshot%202023-08-02%20at%2016.31.00.png)
