(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2288],{4554:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>l,useTOC:()=>d});var s=i(7876),t=i(1807),h=i(3527),r=i(9707);let a={src:"/_next/static/media/check-result.292755fc.png",height:400,width:1974,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAElBMVEXY1tPT0My7t+DNytjIxfTLxfIG2OHVAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAFUlEQVR4nGNgYmVmYGBkYGBgYoEwAAD+ABZMQjfQAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2};function d(e){return[{value:"Changes in php.ini",id:"changes-in-phpini",depth:2},{value:"Changes in Nginx Config",id:"changes-in-nginx-config",depth:2},{value:"Reload NginX and PHP",id:"reload-nginx-and-php",depth:2},{value:"Check your result",id:"check-your-result",depth:2},{value:"Changes in php.ini",id:"changes-in-phpini-1",depth:2},{value:"Reload apache",id:"reload-apache",depth:2}]}let l=(0,t.e)(function(e){let{toc:n=d(e)}=e,i={em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{children:"Optimize PHP settings"}),"\n",(0,s.jsx)(i.p,{children:"You need to optimize some PHP settings in order to be\xa0 able to upload larger size files, have more connections at the same time, etc. , including:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Increase execution time\xa0","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"PHP param max_execution_time is 30 seconds by default. Recommended value for phpFox site is 60 seconds"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Increase Max Upload Size\xa0","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"The Max Upload Size is limited by 2 PHP params:\xa0post_max_size and\xa0upload_max_filesize.\xa0\xa0The default PHP values are 2 MB for upload_max_filesize, and 8 MB for post_max_size. You should increase 2 these params to appropriate values, specially if your phpFox site supports video upload."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"In general, these PHP settings can be configured on server. If you are NOT familiar with server management, we strongly recommend you to reach out to hosting provider or technicians for assistances to configure PHP settings."}),"\n",(0,s.jsx)(i.p,{children:"In this tutorial, I will guide you to how to update on both Nginx and Apache server."}),"\n",(0,s.jsx)(i.h1,{children:"Nginx server"}),"\n",(0,s.jsx)(i.h2,{id:n[0].id,children:n[0].value}),"\n",(0,s.jsxs)(i.p,{children:["On CentOS: php.ini is saved in: ",(0,s.jsx)(i.em,{children:"/etc/php.ini"})]}),"\n",(0,s.jsxs)(i.p,{children:["On Ubuntu: php.ini is saved in:\xa0",(0,s.jsx)(i.em,{children:"/etc/php/8.1/fpm/php.ini"})," (which 8.1\xa0is php version that installed in your server)"]}),"\n",(0,s.jsx)(i.p,{children:"bashtrue"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:"(Increase php execution time to 3000 seconds, max upload size to 20M)"})}),"\n",(0,s.jsx)(i.h2,{id:n[1].id,children:n[1].value}),"\n",(0,s.jsxs)(i.p,{children:["On file nginx config for your site, add this line ",(0,s.jsx)(i.strong,{children:"fastcgi_read_timeout 3000;"}),"\xa0like this:"]}),"\n",(0,s.jsx)(i.p,{children:"bashtrue"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:"(Increase request time out to 3000 seconds). Just add this line"}),"\xa0",(0,s.jsx)(i.strong,{children:"fastcgi_read_timeout 3000;"})," keep default other configurations. You can preference this tutorial\xa0\xa0for more detail"]}),"\n",(0,s.jsxs)(i.p,{children:["By Default, the path of nginx config is saved in ",(0,s.jsx)(i.em,{children:"/etc/nginx/nginx.conf"})," (CentOS) or ",(0,s.jsx)(i.em,{children:"/etc/nginx/sites-available/default"})," (Ubuntu)"]}),"\n",(0,s.jsx)(i.h2,{id:n[2].id,children:n[2].value}),"\n",(0,s.jsx)(i.p,{children:"Run these commands:"}),"\n",(0,s.jsx)(i.p,{children:"bashtrue"}),"\n",(0,s.jsx)(i.h2,{id:n[3].id,children:n[3].value}),"\n",(0,s.jsx)(i.p,{children:"Check on phpinfo"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"check-result.png",placeholder:"blur",src:a})}),"\n",(0,s.jsx)(i.h1,{children:"Apache Server"}),"\n",(0,s.jsx)(i.h2,{id:n[4].id,children:n[4].value}),"\n",(0,s.jsxs)(i.p,{children:["On CentOS: php.ini is saved in:\xa0",(0,s.jsx)(i.em,{children:"/etc/php.ini"})]}),"\n",(0,s.jsxs)(i.p,{children:["On Ubuntu: php.ini is saved in:\xa0",(0,s.jsx)(i.em,{children:"/etc/php/8.1/apache2/php.ini"}),"\xa0(which\xa0",(0,s.jsx)(i.strong,{children:"8.1"}),"\xa0is php version that installed in your server)"]}),"\n",(0,s.jsx)(i.p,{children:"bashtrue"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:"(Increase php execution time to 3000 seconds, max upload size to 20M)"})}),"\n",(0,s.jsx)(i.h2,{id:n[5].id,children:n[5].value}),"\n",(0,s.jsx)(i.p,{children:"Run these commands:"}),"\n",(0,s.jsx)(i.p,{children:"bashtrue"})]})},"/advanced-setups/optimize-php-settings",{filePath:"pages/advanced-setups/optimize-php-settings.mdx",timestamp:1770628094e3,pageMap:h.O,frontMatter:{title:"Optimize PHP settings"},title:"Optimize PHP settings"},"undefined"==typeof RemoteContent?d:RemoteContent.useTOC)},7488:(e,n,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/advanced-setups/optimize-php-settings",function(){return i(4554)}])}},e=>{e.O(0,[1807,3527,636,6593,8792],()=>e(e.s=7488)),_N_E=e.O()}]);